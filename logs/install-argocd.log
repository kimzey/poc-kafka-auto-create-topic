[0;32m[INFO][0m Starting Argo CD installation for Kafka Topics GitOps...

[0;32m[INFO][0m Checking prerequisites...
[0;32m[INFO][0m All prerequisites are satisfied!
[0;34m[STEP][0m Installing Argo CD...
namespace/argocd created
Warning: unrecognized format "int64"
customresourcedefinition.apiextensions.k8s.io/applications.argoproj.io created
customresourcedefinition.apiextensions.k8s.io/applicationsets.argoproj.io created
customresourcedefinition.apiextensions.k8s.io/appprojects.argoproj.io created
serviceaccount/argocd-application-controller created
serviceaccount/argocd-applicationset-controller created
serviceaccount/argocd-dex-server created
serviceaccount/argocd-notifications-controller created
serviceaccount/argocd-redis created
serviceaccount/argocd-repo-server created
serviceaccount/argocd-server created
role.rbac.authorization.k8s.io/argocd-application-controller created
role.rbac.authorization.k8s.io/argocd-applicationset-controller created
role.rbac.authorization.k8s.io/argocd-dex-server created
role.rbac.authorization.k8s.io/argocd-notifications-controller created
role.rbac.authorization.k8s.io/argocd-server created
clusterrole.rbac.authorization.k8s.io/argocd-application-controller created
clusterrole.rbac.authorization.k8s.io/argocd-server created
rolebinding.rbac.authorization.k8s.io/argocd-application-controller created
rolebinding.rbac.authorization.k8s.io/argocd-applicationset-controller created
rolebinding.rbac.authorization.k8s.io/argocd-dex-server created
rolebinding.rbac.authorization.k8s.io/argocd-notifications-controller created
rolebinding.rbac.authorization.k8s.io/argocd-server created
clusterrolebinding.rbac.authorization.k8s.io/argocd-application-controller created
clusterrolebinding.rbac.authorization.k8s.io/argocd-server created
configmap/argocd-cm created
configmap/argocd-cmd-params-cm created
configmap/argocd-gpg-keys-cm created
configmap/argocd-notifications-cm created
configmap/argocd-rbac-cm created
configmap/argocd-ssh-known-hosts-cm created
configmap/argocd-tls-certs-cm created
secret/argocd-notifications-secret created
secret/argocd-secret created
service/argocd-applicationset-controller created
service/argocd-dex-server created
service/argocd-metrics created
service/argocd-notifications-controller-metrics created
service/argocd-redis created
service/argocd-repo-server created
service/argocd-server created
service/argocd-server-metrics created
deployment.apps/argocd-applicationset-controller created
deployment.apps/argocd-dex-server created
deployment.apps/argocd-notifications-controller created
deployment.apps/argocd-redis created
deployment.apps/argocd-repo-server created
deployment.apps/argocd-server created
statefulset.apps/argocd-application-controller created
networkpolicy.networking.k8s.io/argocd-application-controller-network-policy created
networkpolicy.networking.k8s.io/argocd-applicationset-controller-network-policy created
networkpolicy.networking.k8s.io/argocd-dex-server-network-policy created
networkpolicy.networking.k8s.io/argocd-notifications-controller-network-policy created
networkpolicy.networking.k8s.io/argocd-redis-network-policy created
networkpolicy.networking.k8s.io/argocd-repo-server-network-policy created
networkpolicy.networking.k8s.io/argocd-server-network-policy created
[0;32m[INFO][0m Argo CD installation started successfully!
[0;34m[STEP][0m Applying argocd-server NetworkPolicy (permissive) ...
networkpolicy.networking.k8s.io/argocd-server-network-policy configured
[0;34m[STEP][0m Waiting for Argo CD components to be ready...
[0;32m[INFO][0m Waiting for argocd-server deployment...
deployment.apps/argocd-server condition met
[0;32m[INFO][0m Waiting for argocd-application-controller (StatefulSet)...
statefulset.apps/argocd-application-controller condition met
[0;32m[INFO][0m Waiting for argocd-repo-server...
deployment.apps/argocd-repo-server condition met
[0;32m[INFO][0m Waiting for argocd-redis...
pod/argocd-redis-fff8f8945-b89ch condition met
[0;32m[INFO][0m All Argo CD components are ready!
[0;34m[STEP][0m Configuring Argo CD external access...
service/argocd-server patched
[0;32m[INFO][0m Argo CD server configured for external access on:
  HTTP: http://localhost:30080
  HTTPS: https://localhost:30443
[0;34m[STEP][0m Retrieving Argo CD admin password...
[0;32m[INFO][0m Argo CD admin credentials:
  Username: admin
  Password: 2Gv02oE4J2V0rxmD

[1;33m[WARN][0m Please save this password and change it after first login!
[0;32m[INFO][0m Password saved to argocd-admin-password.txt
[0;34m[STEP][0m Verifying Argo CD installation...
[0;32m[INFO][0m Checking Argo CD pods...
NAME                                               READY   STATUS    RESTARTS   AGE
argocd-application-controller-0                    1/1     Running   0          62s
argocd-applicationset-controller-9746cb9df-hzfqx   1/1     Running   0          62s
argocd-dex-server-8579876648-mwdjq                 1/1     Running   0          62s
argocd-notifications-controller-748f9df9f9-7pdgf   1/1     Running   0          62s
argocd-redis-fff8f8945-b89ch                       1/1     Running   0          62s
argocd-repo-server-65c7c56db9-w94mk                1/1     Running   0          62s
argocd-server-6c86fbf9dd-dsrpw                     1/1     Running   0          62s
[0;32m[INFO][0m Checking Argo CD services...
NAME                                      TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE
argocd-applicationset-controller          ClusterIP   10.96.166.14    <none>        7000/TCP,8080/TCP            62s
argocd-dex-server                         ClusterIP   10.96.143.215   <none>        5556/TCP,5557/TCP,5558/TCP   62s
argocd-metrics                            ClusterIP   10.96.179.141   <none>        8082/TCP                     62s
argocd-notifications-controller-metrics   ClusterIP   10.96.42.245    <none>        9001/TCP                     62s
argocd-redis                              ClusterIP   10.96.225.199   <none>        6379/TCP                     62s
argocd-repo-server                        ClusterIP   10.96.174.90    <none>        8081/TCP,8084/TCP            62s
argocd-server                             NodePort    10.96.106.41    <none>        80:30080/TCP,443:30443/TCP   62s
argocd-server-metrics                     ClusterIP   10.96.88.59     <none>        8083/TCP                     62s
[0;32m[INFO][0m Checking Argo CD deployments...
NAME                               READY   UP-TO-DATE   AVAILABLE   AGE
argocd-applicationset-controller   1/1     1            1           62s
argocd-dex-server                  1/1     1            1           62s
argocd-notifications-controller    1/1     1            1           62s
argocd-redis                       1/1     1            1           62s
argocd-repo-server                 1/1     1            1           62s
argocd-server                      1/1     1            1           62s
[0;32m[INFO][0m Checking Argo CD statefulsets...
NAME                            READY   AGE
argocd-application-controller   1/1     62s
[0;32m[INFO][0m Argo CD installation verification completed!
Do you want to install Argo CD CLI? (y/N): 
[0;32m[INFO][0m Argo CD installation completed successfully!

Next steps:
1. Access Argo CD UI:
   URL: http://localhost:30080
   Username: admin
   Password: 2Gv02oE4J2V0rxmD

2. Install Argo CD CLI (optional):
   curl -sSL -o argocd-linux-amd64 https://github.com/argoproj/argo-cd/releases/latest/download/argocd-linux-amd64
   sudo install -m 555 argocd-linux-amd64 /usr/local/bin/argocd
   rm argocd-linux-amd64

3. Login to Argo CD via CLI:
   argocd login localhost:30080

4. Create Kafka Topics application:
   kubectl apply -f argocd/application.yaml

5. Configure Git repository:
   - Update repoURL in argocd/application.yaml to point to your Git repository
   - Ensure your topics/ directory contains KafkaTopic YAML files

6. Monitor synchronization:
   kubectl get application kafka-topics -n argocd -w


[0;32m[INFO][0m ðŸŽ‰ Argo CD is ready for Kafka Topics GitOps!
